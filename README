== nginx-rtmp-module ==

NGINX-based RTMP server

* Live streaming of video/audio

* Recording published streams in FLV file

* Advanced buffering techniques
  to keep memory allocations at a minimum
  level for faster streaming and low
  memory footprint

* Works with Flash RTMP clients as well as
  ffmpeg/rtmpdump/flvstreamer etc
  (see examples in test/ subdir)


Build:

cd to NGINX source directory & run this:

./configure --add-module=<path-to-nginx-rtmp-module>
make
make install


RTMP URL format:

rtmp://rtmp.example.com/<app>[/<name>]

<app> -  should match one of application {}
         blocks in config
<name> - interpreted by each application
         can be empty


Example nginx.conf:

rtmp {

    server {

        listen 1935;

        chunk_size 128;

        max_buf 1000000;

        # TV mode: one publisher, many subscribers
        application mytv {

            # enable live streaming
            live on;

            # record flvs to this dir
            record /tmp/av;

            # max flv size
            record_size 3000000;

            #wait_key_frame on;
            
            # publish only from localhost
            allow publish 127.0.0.1;
            deny publish all;

            #allow play all;
        }

        # Many publishers, many subscribers
        # no checks, no recording
        application videochat {

            live on;

        }

    }
}


Compatibility:

Two time fix options exist in server{} block:

play_time_fix on|off;
publish_time_fix on|off;

Both are on by default.

These time fixes need to be turned off
when playing with non-Adobe software 
(like ffmpeg) or publishing longer
streams (>4 hours) with such software.

Streams generated/expected by Adobe software
do not satisfy the spec (written by them!).
Third-party software does.

